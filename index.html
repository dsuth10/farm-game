<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sheep Station Manager - Educational Math Game</title>
    <meta name="description" content="An educational web application for Year 5 students to practice multiplication, unit rates, and profit-loss analysis through sheep farming simulation.">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Header Section -->
    <header class="game-header">
        <h1>Sheep Station Manager</h1>
        <div class="round-info">
            <span class="round-counter">Round <span id="currentRound">1</span> of <span id="maxRounds">4</span></span>
        </div>
        <div class="season-info">
            <span class="season-name" id="currentSeason">Spring</span>
            <span class="season-icon" id="seasonIcon">ðŸŒ¸</span>
        </div>
    </header>

    <!-- Main Game Container -->
    <main class="game-container">
        <!-- Purchase Section -->
        <section class="purchase-section">
            <h2>Purchase Sheep</h2>
            <div class="purchase-controls">
                <label for="sheepQuantity">Number of sheep to purchase (0-20):</label>
                <input type="number" id="sheepQuantity" min="0" max="20" value="0">
                <button id="purchaseBtn" class="btn btn-primary">Purchase Sheep</button>
            </div>
            
            <div class="price-display">
                <h3>Current Prices</h3>
                <div class="price-grid">
                    <div class="price-item">
                        <span class="price-label">Sheep Purchase Price:</span>
                        <span class="price-value" id="sheepPrice">$45</span>
                        <span class="price-change" id="sheepPriceChange"></span>
                    </div>
                    <div class="price-item">
                        <span class="price-label">Housing Cost:</span>
                        <span class="price-value" id="housingCost">$8</span>
                        <span class="price-change" id="housingCostChange"></span>
                    </div>
                    <div class="price-item">
                        <span class="price-label">Feed Cost:</span>
                        <span class="price-value" id="feedCost">$12</span>
                        <span class="price-change" id="feedCostChange"></span>
                    </div>
                    <div class="price-item">
                        <span class="price-label">Wool Price:</span>
                        <span class="price-value" id="woolPrice">$18</span>
                        <span class="price-change" id="woolPriceChange"></span>
                    </div>
                </div>
            </div>

            <button id="marketTrendsBtn" class="btn btn-secondary">Market Trends</button>
        </section>

        <!-- Financial Ledger Section -->
        <section class="ledger-section">
            <h2>Financial Ledger</h2>
            <div class="balance-display">
                <span class="balance-label">Current Balance:</span>
                <span class="balance-amount" id="currentBalance">$200</span>
            </div>
            
            <div class="flock-info">
                <span class="flock-label">Flock Size:</span>
                <span class="flock-count" id="flockSize">0</span>
            </div>

            <div class="calculations-section">
                <h3>Your Calculations</h3>
                
                <!-- Housing Cost Calculation with Guide -->
                <div class="calculation-item">
                    <div class="calculation-guide" id="housingGuide">
                        <button class="guide-toggle" aria-expanded="false" aria-controls="housingGuideContent">
                            <span class="guide-icon">ðŸ“–</span>
                            <span class="guide-text">Show Help: How to calculate Housing Cost</span>
                        </button>
                        <div class="guide-content" id="housingGuideContent" aria-hidden="true">
                            <div class="guide-steps">
                                <h4>Housing Cost Calculation Guide</h4>
                                <p><strong>Formula:</strong> Housing Cost = Number of Sheep Ã— Housing Cost per Sheep</p>
                                <div class="guide-example">
                                    <p><strong>Step 1:</strong> Count your sheep: <span class="guide-value" id="housingSheepCount">0</span> sheep</p>
                                    <p><strong>Step 2:</strong> Find housing cost per sheep: $<span class="guide-value" id="housingCostPerSheep">8</span></p>
                                    <p><strong>Step 3:</strong> Multiply: <span class="guide-value" id="housingSheepCount2">0</span> Ã— $<span class="guide-value" id="housingCostPerSheep2">8</span> = $<span class="guide-result" id="housingExampleResult">0</span></p>
                                </div>
                                <p class="guide-tip">ðŸ’¡ <strong>Tip:</strong> This is a multiplication problem. You're finding the total cost to house all your sheep.</p>
                            </div>
                        </div>
                    </div>
                    <label for="housingCalculation">Housing Cost Calculation:</label>
                    <input type="number" id="housingCalculation" placeholder="Enter your answer">
                    <button class="btn btn-check" data-calculation="housing">Check</button>
                </div>

                <!-- Feed Cost Calculation with Guide -->
                <div class="calculation-item">
                    <div class="calculation-guide" id="feedGuide">
                        <button class="guide-toggle" aria-expanded="false" aria-controls="feedGuideContent">
                            <span class="guide-icon">ðŸ“–</span>
                            <span class="guide-text">Show Help: How to calculate Feed Cost</span>
                        </button>
                        <div class="guide-content" id="feedGuideContent" aria-hidden="true">
                            <div class="guide-steps">
                                <h4>Feed Cost Calculation Guide</h4>
                                <p><strong>Formula:</strong> Feed Cost = Number of Sheep Ã— Feed Cost per Sheep</p>
                                <div class="guide-example">
                                    <p><strong>Step 1:</strong> Count your sheep: <span class="guide-value" id="feedSheepCount">0</span> sheep</p>
                                    <p><strong>Step 2:</strong> Find feed cost per sheep: $<span class="guide-value" id="feedCostPerSheep">12</span></p>
                                    <p><strong>Step 3:</strong> Multiply: <span class="guide-value" id="feedSheepCount2">0</span> Ã— $<span class="guide-value" id="feedCostPerSheep2">12</span> = $<span class="guide-result" id="feedExampleResult">0</span></p>
                                </div>
                                <p class="guide-tip">ðŸ’¡ <strong>Tip:</strong> Feed costs change with seasons. Check the current prices above!</p>
                            </div>
                        </div>
                    </div>
                    <label for="feedCalculation">Feed Cost Calculation:</label>
                    <input type="number" id="feedCalculation" placeholder="Enter your answer">
                    <button class="btn btn-check" data-calculation="feed">Check</button>
                </div>

                <!-- Wool Income Calculation with Guide -->
                <div class="calculation-item">
                    <div class="calculation-guide" id="woolGuide">
                        <button class="guide-toggle" aria-expanded="false" aria-controls="woolGuideContent">
                            <span class="guide-icon">ðŸ“–</span>
                            <span class="guide-text">Show Help: How to calculate Wool Income</span>
                        </button>
                        <div class="guide-content" id="woolGuideContent" aria-hidden="true">
                            <div class="guide-steps">
                                <h4>Wool Income Calculation Guide</h4>
                                <p><strong>Formula:</strong> Wool Income = Number of Sheep Ã— Wool Price per Sheep</p>
                                <div class="guide-example">
                                    <p><strong>Step 1:</strong> Count your sheep: <span class="guide-value" id="woolSheepCount">0</span> sheep</p>
                                    <p><strong>Step 2:</strong> Find wool price per sheep: $<span class="guide-value" id="woolPricePerSheep">18</span></p>
                                    <p><strong>Step 3:</strong> Multiply: <span class="guide-value" id="woolSheepCount2">0</span> Ã— $<span class="guide-value" id="woolPricePerSheep2">18</span> = $<span class="guide-result" id="woolExampleResult">0</span></p>
                                </div>
                                <p class="guide-tip">ðŸ’¡ <strong>Tip:</strong> This is your income! Wool prices change with seasons, so check current prices.</p>
                            </div>
                        </div>
                    </div>
                    <label for="woolCalculation">Wool Income Calculation:</label>
                    <input type="number" id="woolCalculation" placeholder="Enter your answer">
                    <button class="btn btn-check" data-calculation="wool">Check</button>
                </div>

                <!-- Profit Calculation with Guide -->
                <div class="calculation-item">
                    <div class="calculation-guide" id="profitGuide">
                        <button class="guide-toggle" aria-expanded="false" aria-controls="profitGuideContent">
                            <span class="guide-icon">ðŸ“–</span>
                            <span class="guide-text">Show Help: How to calculate Profit/Loss</span>
                        </button>
                        <div class="guide-content" id="profitGuideContent" aria-hidden="true">
                            <div class="guide-steps">
                                <h4>Profit/Loss Calculation Guide</h4>
                                <p><strong>Formula:</strong> Profit = Wool Income - (Housing Cost + Feed Cost + Purchase Cost)</p>
                                <div class="guide-example">
                                    <p><strong>Step 1:</strong> Calculate wool income: $<span class="guide-value" id="profitWoolIncome">0</span></p>
                                    <p><strong>Step 2:</strong> Add all costs: Housing ($<span class="guide-value" id="profitHousingCost">0</span>) + Feed ($<span class="guide-value" id="profitFeedCost">0</span>) + Purchase ($<span class="guide-value" id="profitPurchaseCost">0</span>) = $<span class="guide-result" id="profitTotalCosts">0</span></p>
                                    <p><strong>Step 3:</strong> Subtract costs from income: $<span class="guide-value" id="profitWoolIncome2">0</span> - $<span class="guide-result" id="profitTotalCosts2">0</span> = $<span class="guide-result" id="profitExampleResult">0</span></p>
                                </div>
                                <p class="guide-tip">ðŸ’¡ <strong>Tip:</strong> Positive numbers mean profit, negative numbers mean loss. This shows if you're making money!</p>
                            </div>
                        </div>
                    </div>
                    <label for="profitCalculation">Profit/Loss Calculation:</label>
                    <input type="number" id="profitCalculation" placeholder="Enter your answer">
                    <button class="btn btn-check" data-calculation="profit">Check</button>
                </div>
            </div>

            <div class="profit-chart">
                <h3>Profit Trend</h3>
                <div id="profitChart" class="chart-container">
                    <!-- Chart will be rendered here -->
                </div>
            </div>
        </section>

        <!-- Market Conditions Section -->
        <section class="market-conditions">
            <h3>Market Conditions</h3>
            <p id="marketCondition">Growing season - Prices are favorable for expansion</p>
            <div id="priceChanges" class="price-changes">
                <!-- Price change indicators will be displayed here -->
            </div>
        </section>

        <!-- Feedback Banner -->
        <section class="feedback-banner" id="feedbackBanner">
            <!-- Dynamic feedback messages will appear here -->
        </section>

        <!-- Game Controls -->
        <section class="game-controls">
            <button id="nextRoundBtn" class="btn btn-primary" disabled>Next Round</button>
            <button id="resetBtn" class="btn btn-secondary">Reset Game</button>
            <button id="helpBtn" class="btn btn-secondary">Help</button>
            <button id="teacherSettingsBtn" class="btn btn-secondary">Teacher Settings</button>
        </section>
    </main>

    <!-- Teacher Settings Modal -->
    <div id="teacherSettingsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Teacher Settings</h2>
            <div class="settings-grid">
                <div class="setting-item">
                    <label for="seasonalFluctuation">Seasonal Price Fluctuations:</label>
                    <input type="checkbox" id="seasonalFluctuation" checked>
                </div>
                <div class="setting-item">
                    <label for="randomVariation">Random Price Variations (Â±$3):</label>
                    <input type="checkbox" id="randomVariation">
                </div>
                <div class="setting-item">
                    <label for="sheepMortality">Sheep Mortality Events (5% chance):</label>
                    <input type="checkbox" id="sheepMortality">
                </div>
                <div class="setting-item">
                    <label for="startingBalance">Starting Balance:</label>
                    <input type="number" id="startingBalance" value="200" min="50" max="500">
                </div>
                <div class="setting-item">
                    <label for="maxRoundsSetting">Maximum Rounds:</label>
                    <input type="number" id="maxRoundsSetting" value="4" min="2" max="8">
                </div>
                <div class="setting-item">
                    <label for="marketDifficulty">Market Difficulty:</label>
                    <select id="marketDifficulty">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
            </div>
            <div class="modal-actions">
                <button id="saveSettings" class="btn btn-primary">Save Settings</button>
                <button id="cancelSettings" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>How to Play</h2>
            <div class="help-content">
                <h3>Game Overview</h3>
                <p>Welcome to Sheep Station Manager! You're a sheep farmer managing your flock through four seasons.</p>
                
                <h3>How to Play</h3>
                <ol>
                    <li><strong>Purchase Sheep:</strong> Choose how many sheep to buy (0-20)</li>
                    <li><strong>Calculate Costs:</strong> Work out housing and feed costs</li>
                    <li><strong>Calculate Income:</strong> Determine wool income from your sheep</li>
                    <li><strong>Calculate Profit:</strong> Find your net profit or loss</li>
                    <li><strong>Advance:</strong> Move to the next round when all calculations are correct</li>
                </ol>

                <h3>Seasonal Changes</h3>
                <p>Prices change each season based on market conditions. Watch for the â†‘â†“ indicators showing price changes.</p>

                <h3>Getting Help</h3>
                <p>If you get stuck, the game will provide hints and worked examples to help you learn.</p>
            </div>
        </div>
    </div>

    <!-- Market Trends Modal -->
    <div id="marketTrendsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Market Trends</h2>
            <div id="marketTrendsContent">
                <!-- Market trends data will be displayed here -->
            </div>
        </div>
    </div>

    <!-- Worked Example Modal -->
    <div id="workedExampleModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Worked Example</h2>
            <div id="workedExampleContent">
                <!-- Worked examples will be displayed here -->
            </div>
        </div>
    </div>

    <!-- Game Summary Modal -->
    <div id="gameSummaryModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Game Summary</h2>
            <div id="gameSummaryContent">
                <!-- Game summary will be displayed here -->
            </div>
            <div class="modal-actions">
                <button id="downloadReport" class="btn btn-primary">Download Report</button>
                <button id="newGame" class="btn btn-secondary">New Game</button>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/game.js"></script>
    <script src="js/calculations.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/pdf-export.js"></script>
</body>
</html> 